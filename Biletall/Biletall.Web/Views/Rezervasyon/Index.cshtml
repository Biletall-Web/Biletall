

<!DOCTYPE html>
<html>
<head>
    <link href="~/lib/font-awesome/css/biletall.css" rel="stylesheet" />
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="css/materialize.min.css" media="screen,projection" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
        /* label color */
        .input-field label {
            color: #000;
        }
        /* label focus color */
        .input-field input[type=text]:focus + label {
            color: #000;
        }
        /* label underline focus color */
        .input-field input[type=text]:focus {
            border-bottom: 1px solid #000;
            box-shadow: 0 1px 0 0 #000;
        }
        /* valid color */
        .input-field input[type=text].valid {
            border-bottom: 1px solid #000;
            box-shadow: 0 1px 0 0 #000;
        }
        /* invalid color */
        .input-field input[type=text].invalid {
            border-bottom: 1px solid #000;
            box-shadow: 0 1px 0 0 #000;
        }
        /* icon prefix focus color */
        .input-field .prefix.active {
            color: #000;
        }

        .iletisim-back {
            background-color: #F5F5F5;
        }

        .up {
            margin-top: 10px;
        }

        .master {
            border: 1px solid black;
        }
        /*Firefox*/
        input[type=number] {
            -moz-appearance: textfield;
        }
        /*Chrome*/
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
    </style>
</head>

@{ Sefer sefer = (Sefer)ViewData["Seferler"];
  
    string nereden = ViewBag.Nereden;
    string nereye = ViewBag.Nereye;
    int toplamFiyat = ViewBag.ToplamTutar;
    DateTime tarih = ViewBag.Tarih;
    IEnumerable<string> erkekKoltuklar = ViewBag.erkekKoltuklar;
    IEnumerable<string> kadinKoltuklar = ViewBag.kadinKoltuklar;
    string koltuklar = ViewBag.Koltuklar;
}
<body>
    <link href="~/lib/font-awesome/css/biletall.css" rel="stylesheet" />

    <h6><i class="material-icons prefix">directions_subway </i>Gidiş @tarih.Day/@tarih.Month/@tarih.Year</h6>
    <div class="unselected-bus">
        <div class="bus-list-item common-journey-item">
            <div class="bus-list-inner">


                <div class="row">
                    <div class="col-2">
                        <div class="logo">@sefer.FirmaAdi</div>
                        <span>
                            <small>Seçilen Koltuklar:</small>
                        </span>
                        <div class="duration">
                            @if (erkekKoltuklar.Any())
                            {
                                <span>
                                    <small>Erkek:<b>@string.Join(",", erkekKoltuklar)</b>  </small>
                                </span>}

                            @if (kadinKoltuklar.Any())
                            {
                                <span>
                                    <small>Kadın: <b>@string.Join(",", kadinKoltuklar)</b> </small>
                                </span>}
                        </div>
                    </div>
                    <div class="col-2">

                        <div class="time">
                            <h3>@sefer.KalkisSaati</h3>
                        </div>
                        <div class="duration">
                            <h5><span class="icon-sure"></span> @sefer.YaklasikSeyahatSuresi saat</h5>
                        </div>

                    </div>
                    <div class="col-2">
                        <div class="slot-one">
                            <div class="distination guzergahGetir" onclick="javascript:GuzergahGetir(0,1)"><b>@sefer.KalkisNokta</b> <i class="icon-chevron-right" style="vertical-align: text-bottom;"></i> <b>@sefer.VarisNokta</b></div>
                        </div>
                    </div>
                    <div class="col-1">
                        <div class="seat ">@sefer.OtobusKoltukYerlesimTipi<img src="https://biletall-cdn.mncdn.com/img-v7/ortak/ikonlar/bos_koltuk.svg" style="width:15px;"></div>
                    </div>
                    <div class="col-3">

                        <div class="slot-tow">
                            <div class="arrangement">
                                <div class="feature">

                                    @if (sefer.OTipOzellik[0] == '1')
                                    {
                                        //internet
                                        <i class="fas fa-wifi" data-toggle="tooltip" data-placement="top" title="İnternet"></i>
                                    }
                                    @if (sefer.OTipOzellik[1] == '1')
                                    {
                                        //rahat koltuk
                                        <i class="fas fa-couch" data-toggle="tooltip" data-placement="top" title="Rahat Koltuk"></i>
                                    }
                                    @if (sefer.OTipOzellik[2] == '1')
                                    {
                                        //Koltuk Ekranı (Uydu Yayını)
                                        <i class="fas fa-tv" data-toggle="tooltip" data-placement="top" title="Koltuk Ekranı (Uydu Yayını)"></i>
                                    }
                                    @if (sefer.OTipOzellik[3] == '1')
                                    {
                                        //wc
                                        <i class="fas fa-toilet" data-toggle="tooltip" data-placement="top" title="WC"></i>
                                    }
                                    @if (sefer.OTipOzellik[4] == '1')
                                    {
                                        //koltuk ekrani
                                        <i class="fas fa-tv" data-toggle="tooltip" data-placement="top" title="TV (Genel)"></i>
                                    }
                                    @if (sefer.OTipOzellik[5] == '1')
                                    {
                                        //digiturk
                                        <i class="fas fa-satellite" data-toggle="tooltip" data-placement="top" title="Digiturk"></i>
                                    }
                                    @if (sefer.OTipOzellik[6] == '1')
                                    {
                                        //kulaklik
                                        <i class="fas fa-headphones" data-toggle="tooltip" data-placement="top" title="Kulaklık"></i>
                                    }
                                    @if (sefer.OTipOzellik[7] == '1')
                                    {
                                        //kulaklik
                                        <i class="fas fa-music" data-toggle="tooltip" data-placement="top" title="Müzik Yayını (Genel)"></i>
                                    }
                                    @if (sefer.OTipOzellik[8] == '1')
                                    {
                                        //muzik
                                        <i class="fas fa-music" data-toggle="tooltip" data-placement="top" title="Müzik Yayını (Koltuk)"></i>
                                    }
                                    @if (sefer.OTipOzellik[9] == '1')
                                    {
                                        //cep tel
                                        <i class="fas fa-mobile" data-toggle="tooltip" data-placement="top" title="Cep Telefonu Serbest"></i>
                                    }
                                    @if (sefer.OTipOzellik[10] == '1')
                                    {
                                        //priz
                                        <i class="fas fa-plug" data-toggle="tooltip" data-placement="top" title="220 Volt Priz"></i>
                                    }
                                    @if (sefer.OTipOzellik[11] == '1')
                                    {
                                        //koltuk ekrani
                                        <i class="fas fa-tv" data-toggle="tooltip" data-placement="top" title="Koltuk Ekranı (MIT)"></i>
                                    }
                                    @if (sefer.OTipOzellik[12] == '1')
                                    {
                                        //namaz
                                        <i class="fas fa-mosque" data-toggle="tooltip" data-placement="top" title=">Namaz Vakitlerinde Durur"></i>
                                    }
                                    @if (sefer.OTipOzellik[13] == '1')
                                    {
                                        //ligtv
                                        <i class="fas fa-satellite" data-toggle="tooltip" data-placement="top" title="LigTV"></i>
                                    }
                                    @if (sefer.OTipOzellik[14] == '1')
                                    {
                                        //ligtv
                                        <i class="fas fa-tv" data-toggle="tooltip" data-placement="top" title="Koltuk Ekranı (10 inç)"></i>
                                    }
                                    @if (sefer.OTipOzellik[15] == '1')
                                    {
                                        //tv
                                        <i class="fas fa-lightbulb" data-toggle="tooltip" data-placement="top" title="Okuma Lambası"></i>
                                    }
                                    @if (sefer.OTipOzellik[16] == '1')
                                    {
                                        //radio
                                        <i class="fas fa-radio" data-toggle="tooltip" data-placement="top" title="Radyo (Kişisel)"></i>
                                    }
                                    @if (sefer.OTipOzellik[17] == '1')
                                    {
                                        //tv
                                        <i class="fas fa-tv" data-toggle="tooltip" data-placement="top" title="Koltuk Ekranı (13 inç)"></i>
                                    }
                                    @if (sefer.OTipOzellik[18] == '1')
                                    {
                                        //usb
                                        <i class="fab fa-usb" data-toggle="tooltip" data-placement="top" title="USB Giriş"></i>
                                    }
                                    @if (sefer.OTipOzellik[19] == '1')
                                    {
                                        //kahvalti
                                        <i class="fas fa-hamburger" data-toggle="tooltip" data-placement="top" title="Kahvaltı"></i>
                                    }
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-2">
                        <div class="price-sec">
                            <div class="seat-price">
                                <h3>  Toplam Ücret</h3>
                                <div>
                                    <h3 style="text-align:center"><b>@toplamFiyat  TL</b></h3>
                                </div>
                                <div>
                                    <button style="text-align:center" type="button" class="open-details link" data-toggle="modal" data-target="#modal-@sefer.ID">
                                        Detayları Göster
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="modal fade" id="modal-@sefer.ID" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Sefer Detayi <br /> @sefer.FirmaAdi - @sefer.KalkisSaati - @sefer.BiletFiyatiInternet TL <br /> @sefer.KalkisNokta > @sefer.VarisNokta</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <div class="row">

                                    <div class="col-12">
                                        <span class="th" style="padding: 0">Otobüsün Özellikleri</span>

                                    </div>
                                </div>
                                <div class="row">
                                    @if (sefer.OTipOzellik[0] == '1')
                                    {
                                        //internet
                                        <div class="col-6">
                                            <i class="fas fa-wifi"></i>
                                            <span>İnternet</span>
                                        </div>
                                    }
                                    @if (sefer.OTipOzellik[1] == '1')
                                    {
                                        //rahat koltuk
                                        <div class="col-6"><i class="fas fa-couch"></i><span>Rahat Koltuk</span></div>
                                    }
                                    @if (sefer.OTipOzellik[2] == '1')
                                    {
                                        //tv
                                        <div class="col-6">
                                            <i class="fas fa-tv"></i><span>
                                                Koltuk Ekranı (Uydu Yayını)
                                            </span>
                                        </div>
                                    }
                                    @if (sefer.OTipOzellik[3] == '1')
                                    {
                                        //wc
                                        <div class="col-6"><i class="fas fa-toilet"></i><span>WC</span></div>

                                    }
                                    @if (sefer.OTipOzellik[4] == '1')
                                    {
                                        //koltuk ekrani
                                        <div class="col-6"><i class="fas fa-tv"></i><span>Koltuk Ekranı </span></div>
                                    }
                                    @if (sefer.OTipOzellik[5] == '1')
                                    {
                                        //digiturk
                                        <div class="col-6"><i class="fas fa-satellite"></i><span>Digiturk</span></div>
                                    }
                                    @if (sefer.OTipOzellik[6] == '1')
                                    {
                                        //kulaklik
                                        <div class="col-6"><i class="fas fa-headphones"></i><span>Kulaklık</span></div>
                                    }
                                    @if (sefer.OTipOzellik[7] == '1')
                                    {
                                        //müzik
                                        <div class="col-6"><i class="fas fa-music"></i><span>Müzik Yayını (Genel)</span></div>
                                    }
                                    @if (sefer.OTipOzellik[8] == '1')
                                    {
                                        //muzik
                                        <div class="col-6"><i class="fas fa-music"></i><span>Müzik Yayını (Koltuk)</span></div>
                                    }
                                    @if (sefer.OTipOzellik[9] == '1')
                                    {
                                        //cep tel
                                        <div class="col-6"><i class="fas fa-mobile"></i><span>Cep Telefonu (Serbest)</span></div>
                                    }
                                    @if (sefer.OTipOzellik[10] == '1')
                                    {
                                        //priz
                                        <div class="col-6">
                                            <i class="fas fa-plug"></i>
                                            <span>220 Volt Priz</span>
                                        </div>
                                    }
                                    @if (sefer.OTipOzellik[11] == '1')
                                    {
                                        //koltuk ekrani
                                        <div class="col-6"><i class="fas fa-tv"></i><span>Koltuk Ekranı (MIT) </span></div>
                                    }
                                    @if (sefer.OTipOzellik[12] == '1')
                                    {
                                        //namaz
                                        <div class="col-6"><i class="fas fa-mosque"></i><span>Namaz Vakitlerinde Durur</span></div>
                                    }
                                    @if (sefer.OTipOzellik[13] == '1')
                                    {
                                        //ligtv
                                        <div class="col-6"><i class="fas fa-satellite"></i><span>LigTV</span></div>
                                    }
                                    @if (sefer.OTipOzellik[14] == '1')
                                    {
                                        //ligtv
                                        <div class="col-6"><i class="fas fa-tv"></i><span>Koltuk Ekranı (10 inç)</span></div>
                                    }

                                    @if (sefer.OTipOzellik[15] == '1')
                                    {
                                        //tv
                                        <div class="col-6"><i class="fas fa-lightbulb"></i><span>Okuma Lambası </span></div>
                                    }
                                    @if (sefer.OTipOzellik[16] == '1')
                                    {
                                        //radio
                                        <div class="col-6"><i class="fas fa-radio"></i><span>Radyo (Kişisel)</span></div>
                                    }
                                    @if (sefer.OTipOzellik[17] == '1')
                                    {
                                        //tv
                                        <div class="col-6"><i class="fas fa-tv"></i><span>Koltuk Ekranı (13 inç) </span></div>
                                    }
                                    @if (sefer.OTipOzellik[18] == '1')
                                    {
                                        //tv
                                        <div class="col-6"><i class="fab fa-usb"></i><span>USB Giriş </span></div>
                                    }
                                    @if (sefer.OTipOzellik[19] == '1')
                                    {
                                        //kahvalti
                                        <div class="col-6"><i class="fas fa-hamburger"></i><span>Kahvalti</span></div>

                                    }

                                </div>
                                <hr>
                                <span class="th">@sefer.KalkisNokta > @sefer.VarisNokta</span>
                                <div class="row">
                                    <div class="col-sm-8"><b>Kalkış Noktası Adı</b></div>
                                    <div class="col-sm-4"><b>Kalkış Saati</b></div>
                                    @foreach (var guzergah in sefer.Guzergahlar)
                                    {
                                        <div class="col-sm-8">@guzergah.VarisYeri</div><div class="col-sm-4">@guzergah.KalkisTarihSaat</div>

                                    }

                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-dismiss="modal">Kapat</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            </div>
        </div>

   

    <h6><i class="material-icons prefix">transfer_within_a_station </i><i> Yolcu Bilgileri</i></h6>

    <div class="master">
        <div class="row">
            <form class="col s12" id="postForm" asp-action="Index2" method="post">
                <div id="fields">
                    <input type="hidden" name="SeferTakipNo" id="SeferTakipNo" value="@sefer.SeferTakipNo" />
                    <input type="hidden" name="Koltuklar" id="Koltuklar" value="@koltuklar" />
                    <input type="hidden" name="nereden" id="nereden" value="@nereden" />
                    <input type="hidden" name="nereye" id="nereye" value="@nereye" />
                    <input type="hidden" name="tarih" id="tarih" value="@tarih" />
                    <input type="hidden" name="toplamTutar" id="toplamTutar" />
                    @foreach (var item in erkekKoltuklar)
                    {
                <div class="row up">
                    <div class="input-field col s3">

                        <h6>Yolcu(Erkek)</h6>
                        <h6>Koltuk(@item)</h6>
                        @{ var ad = "first_name" + item;
                            var soyad = "last_name" + item;
                            var tc = "tc" + item; }
                        <div class="input-field col s3">
                            <input placeholder="Adınız" id="@ad" name="dynamicField" type="text" class="validate" required>
                            <label for="@ad">Ad</label>
                        </div>
                        <div class="input-field col s3">
                            <input placeholder="Soyadınız" id="@soyad" type="text" name="dynamicField" class="validate" required>
                            <label for="@soyad">Soyad</label>
                        </div>
                        <div class="input-field col s3">
                            <input type="text" onkeypress="return isNumberKey(event)" name="dynamicField" id="@tc" class="validate" placeholder="TC Kimlik No" maxlength="11" required>
                            <label for="tc">TC Kimlik Numarası</label>
                            <i class="tc-group" style="font-size: 12px;">(Karayolu Taşıma Yönetmeliğince Gereklidir.)</i>
                            <span class="helper-text" data-error="Lütfen TC Kimlik No alanını doğru giriniz." data-success="Başarılı"></span>
                        </div>


                    </div>

                </div>}
                    @foreach (var item in kadinKoltuklar)
                    {
                <div class="row up">
                    <div class="input-field col s3">

                        <h6>Yolcu(Kadin)</h6>
                        <h6>Koltuk(@item)</h6>

                        @{ var ad = "first_name" + item;
                            var soyad = "last_name" + item;
                            var tc = "tc" + item; }
                        <div class="input-field col s3">
                            <input placeholder="Adınız" id="@ad" name="dynamicField" type="text" class="validate" required>
                            <label for="@ad">Ad</label>
                        </div>
                        <div class="input-field col s3">
                            <input placeholder="Soyadınız" id="@soyad" name="dynamicField" type="text" class="validate" required>
                            <label for="@soyad">Soyad</label>
                        </div>
                        <div class="input-field col s3">
                            <input type="text" onkeypress="return isNumberKey(event)" name="dynamicField" @*name="@tc"*@ id="@tc" class="validate" placeholder="TC Kimlik No" maxlength="11" required>
                            <label for="tc">TC Kimlik Numarası</label>
                            <i class="tc-group" style="font-size: 12px;">(Karayolu Taşıma Yönetmeliğince Gereklidir.)</i>
                            <span class="helper-text" data-error="Lütfen TC Kimlik No alanını doğru giriniz." data-success="Başarılı"></span>
                        </div>


                    </div>

                </div>}
                    <div class="iletisim-back">
                        <div class="row ">
                            <div class="input-field col s4">
                                <i class="material-icons prefix" style="margin-left:10px;">contact_phone</i>
                                <label for="icon_telephone" style="margin-left:50px; font-size:20px;"><i>İletişim Bilgileri</i></label>
                            </div>
                            <div class="input-field col s4">
                                <input placeholder="E-mail" name="dynamicField" id="email" type="email" class="validate" required>
                                <label for="email">Email</label>
                                <span class="helper-text" data-error="Lütfen E-mail alanını doğru giriniz." data-success="Başarılı"></span>
                            </div>
                            <div class="input-field col s4">
                                <input type="tel" class="validate" name="dynamicField" id="phone_number" onkeypress="return isNumberKey(event)" placeholder="5xx-xxx-xxxx" pattern="^\(?[0]?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$" maxlength="12" required>
                                <label for="phone">Telefon Numarası</label>
                                <span class="helper-text" data-error="Lütfen Cep Telefonu alanını doğru giriniz." data-success="Başarılı"></span>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="form-group col-md-6">
                    <button id="btnAddField" type="submit" class="btn btn-primary">Gönder</button>
                </div>
            </form>
        </div>
    </div>

    <script type="text/javascript" src="js/materialize.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>

    <script>


            //$(document).ready(function() {
            //    var $fields = $('#fields');
            //    $('#btnAddField').click(function(e) {
            //    e.preventDefault();
            //        $('<input type="text" name="dynamicField" /><br />').appendTo($fields);
            //    });
            //});

        function isNumberKey(evt) {
            var charCode = (evt.which) ? evt.which : event.keyCode;
            if (charCode > 31 && (charCode < 48 || charCode > 57))
                return false;
            return true;
        }
       
        $("#postForm").submit(function (e) {
            e.preventDefault();
           // var $fields = $('#fields');
           // $('#btnAddField').click(function (e) {
               // e.preventDefault();
               // $('<input type="text" name="dynamicField" /><br />').appendTo($fields);
         //   });
            $(this).submit();


            //console.log(e);
            //var rezervasyon = {

            //    Name: $('#first_name').val(),
            //    Surname: $('#last_name').val(),
            //    Mail: $('#email').val(),
            //    PhoneNumber: $('#phone_number').val(),
            //    Tc: $('#tc').val()
            //}
            //console.log(rezervasyon);
            //var myJSON = JSON.stringify(rezervasyon);
            //$.ajax({
            //    url: 'https://localhost:44326/api/Rezervasyons',
            //    type: 'POST',
            //    contentType: "application/json; charset=utf-8",
            //    data: myJSON,
            //    success: function (gelenveri) {
            //        alertify.success('Rezervasyonunuz başarıyla eklendi.');
            //        $('input').val("");
            //    },
            //    error: function (hata) {
            //        alertify.error('Erişim Sağlanamadı.');
            //    }
            //});
        });
    </script>
</body>
</html>
